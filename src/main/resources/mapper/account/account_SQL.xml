<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="kr.healthcare.timemanagerapi.account.mapper.UserAccountMapper">

    <select id="findByStudentNumber" parameterType="string" resultType="int">
        SELECT COUNT(STUDENT_NUMBER)
        FROM tbl_application
        WHERE STUDENT_NUMBER = #{value}
    </select>

    <select id="findByStudentId" parameterType="string" resultType="int">
        SELECT COUNT(MEMBER_ID)
        FROM tbl_application
        WHERE MEMBER_ID = #{value}
    </select>

    <select id="findByAccount" parameterType="string" resultType="hashmap">
        SELECT MEMBER_PW, SALT
        FROM tbl_application
        WHERE MEMBER_ID = #{value}
    </select>

    <insert id="persistByStudentAccount" parameterType="kr.healthcare.timemanagerapi.account.vo.UserAccountVO">
        INSERT INTO tbl_application(STUDENT_NUMBER,MEMBER_ID,MEMBER_PW,MEMBER_GENDER,MEMBER_NAME, SALT)
        VALUES(#{studentNumber},#{memberId},#{memberPw},#{memberGender},#{memberName},#{salt})
    </insert>


</mapper>